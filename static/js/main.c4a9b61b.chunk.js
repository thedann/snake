(this.webpackJsonpsnake=this.webpackJsonpsnake||[]).push([[0],[,,,function(e,t,n){e.exports={scoreboard:"scoreBoard_scoreboard__1rB5T",header:"scoreBoard_header__2Tmdp",counter:"scoreBoard_counter__1yVmT"}},function(e,t,n){e.exports={startmenu:"startmenu_startmenu__2BudL",startbutton:"startmenu_startbutton___EH_r"}},,,function(e,t,n){e.exports={map:"map_map__1cjP6",dot:"map_dot__1hBTO"}},function(e,t,n){e.exports={player:"player_player__i5ArV"}},function(e,t,n){e.exports={snack:"snack_snack__120vH"}},,function(e,t,n){e.exports={tail:"tail_tail__1dVdw"}},function(e,t,n){e.exports={gameover:"gameover_gameover__22WGM"}},function(e,t,n){e.exports={counter:"counter_counter__SHpH-",pulse:"counter_pulse__2dX7s"}},function(e,t,n){e.exports=n(21)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a,o=n(0),r=n.n(o),i=n(6),c=n.n(i),s=(n(19),n(1)),u=(n(20),n(7)),l=n.n(u),f=n(8),m=n.n(f),p=function(e){var t=Object(o.useState)(e.left),n=Object(s.a)(t,2),a=(n[0],n[1],Object(o.useState)(e.top)),i=Object(s.a)(a,2);i[0],i[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{left:e.left,top:e.top},className:m.a.player}))},b=n(9),d=n.n(b),v=function(e){return r.a.createElement("div",{style:{left:e.left,top:e.top},className:d.a.snack})};!function(e){e.Up="UP",e.Down="DOWN",e.Left="LEFT",e.Right="RIGHT",e.None="NONE"}(a||(a={}));var P=a,E=n(2),O=function e(){Object(E.a)(this,e),this.convertKeyCodeToDirection=function(e){var t=P.None;switch(e){case 37:t=P.Left;break;case 38:t=P.Up;break;case 39:t=P.Right;break;case 40:t=P.Down}return t},this.checkIfDirectionIsValid=function(e,t){return(e!==P.Left||t!==P.Right)&&((e!==P.Right||t!==P.Left)&&((e!==P.Up||t!==P.Down)&&(e!==P.Down||t!==P.Up)))}},h=n(10),_=function(){function e(){Object(E.a)(this,e)}return Object(h.a)(e,[{key:"getLastPositionOfTail",value:function(e){var t=null;return e&&e.parts&&(t=e.parts[e.parts.length-1]),t}},{key:"whereToRenderTail",value:function(e,t){var n=this.getLastPositionOfTail(e),a=n||t,o={xPosition:a.xPosition,yPosition:a.yPosition,direction:a.direction};switch(a.direction){case P.Left:o.xPosition=o.xPosition+16;break;case P.Up:o.yPosition=o.yPosition+16;break;case P.Right:o.xPosition=o.xPosition-16;break;case P.Down:o.yPosition=o.yPosition-16}return o}},{key:"addToTail",value:function(e,t){var n=this.whereToRenderTail(e,t);return e&&e.parts?e.parts.push(n):e={parts:[n]},e}}]),e}(),j=n(11),y=n.n(j),x=function(e){return r.a.createElement(r.a.Fragment,null,e.parts&&e.parts.map((function(e,t){return r.a.createElement("div",{style:{left:e.xPosition,top:e.yPosition},className:y.a.tail})})))},k=n(12),g=n.n(k),w=function(e){return r.a.createElement("div",{className:g.a.gameover},r.a.createElement("h1",null,"Game over!"),r.a.createElement("h3",null,1===e.points?"You got "+e.points+" point":"You got "+e.points+" points"))},S=r.a.createContext({score:0,setScore:function(){}}),N=function(e){var t=e.children,n=Object(o.useState)(0),a=Object(s.a)(n,2),i=a[0],c=a[1];return r.a.createElement(S.Provider,{value:{score:i,setScore:c}},t)},T=function(){var e=Object(o.useContext)(S);if(!e)throw new Error("Wrap component in ScoreProvider ");return e},D=function(){var e=new O,t=new _,n={},a=T(),i=a.score,c=a.setScore,u=Object(o.useState)(80),f=Object(s.a)(u,2),m=f[0],b=f[1],d=Object(o.useState)(80),E=Object(s.a)(d,2),h=E[0],j=E[1],y=Object(o.useState)(P.None),k=Object(s.a)(y,2),g=k[0],S=k[1],N=Object(o.useState)(n),D=Object(s.a)(N,2),R=D[0],L=D[1],I=Object(o.useState)(320),B=Object(s.a)(I,2),C=B[0],U=B[1],G=Object(o.useState)(70),F=Object(s.a)(G,1)[0],V=Object(o.useState)(0),H=Object(s.a)(V,2),W=H[0],M=H[1],K=Object(o.useState)(!1),A=Object(s.a)(K,2),J=A[0],Y=A[1],X=Object(o.useState)(!1),$=Object(s.a)(X,2),q=$[0],z=$[1],Q=Object(o.useState)(96),Z=Object(s.a)(Q,2),ee=Z[0],te=Z[1],ne=Object(o.useState)(96),ae=Object(s.a)(ne,2),oe=ae[0],re=ae[1],ie=Object(o.useState)(!1),ce=Object(s.a)(ie,2),se=ce[0],ue=ce[1];function le(){return 16*(Math.floor(19*Math.random())+1)}function fe(e){switch(e.direction){case P.Left:e.xPosition-16>-16&&(e.xPosition=e.xPosition-16);break;case P.Up:e.yPosition-16>-16&&(e.yPosition=e.yPosition-16);break;case P.Right:e.xPosition+16<320&&(e.xPosition=e.xPosition+16);break;case P.Down:e.yPosition+16<320&&(e.yPosition=e.yPosition+16)}return e}function me(e){if(J||Y(!0),e!==P.None){var t={xPosition:m,yPosition:h,direction:e};t=fe(t),console.log(t),e===P.Down||e===P.Up?j(t.yPosition):b(t.xPosition),function(e,t){var n=!1;return t.parts&&t.parts.forEach((function(t){t.yPosition===e.yPosition&&t.xPosition===e.xPosition&&(console.log("GAME OVER!!!"),n=!0)})),n}(t,R)?z(!0):R.parts&&function(e){if(null!=e&&e.parts){var t=g;e.parts.forEach((function(e){var n=e.direction;e.direction=t;var a={xPosition:e.xPosition,yPosition:e.yPosition,direction:e.direction};t=n,a=fe(a),e.xPosition=a.xPosition,e.yPosition=a.yPosition})),L(e)}}(R)}}return r.a.useEffect((function(){M(W+1)}),[J]),function(e,t){var n=Object(o.useRef)();Object(o.useEffect)((function(){n.current=e}),[e]),Object(o.useEffect)((function(){if(null!==t){var e=setInterval((function(){n&&null!=n.current&&n.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){me(g),M(W+1)}),C),r.a.useEffect((function(){var e=setTimeout((function(){ue(!0)}),1e3);return function(){return clearTimeout(e)}}),[se]),r.a.useEffect((function(){m===ee&&h===oe&&function(){c(i+1),ue(!1),te(le()),re(le()),C>=F?U(.8*C):console.log("reached max speed");var e={xPosition:m,yPosition:h,direction:g},n=t.addToTail(R,e);L(n)}()}),[m,h]),r.a.useEffect((function(){q&&(M(0),S(P.None),b(80),j(80),L(n))}),[q]),r.a.createElement("div",{className:l.a.map,tabIndex:0,onKeyDown:function(t){var n=t.keyCode,a=e.convertKeyCodeToDirection(n);a!==g&&e.checkIfDirectionIsValid(g,a)&&(S(a),a!==P.None&&me(a))}},q?r.a.createElement(r.a.Fragment,null,r.a.createElement(w,{points:i})):r.a.createElement(r.a.Fragment,null,r.a.createElement(p,{currentDirection:g,left:m,top:h}),R.parts&&r.a.createElement(x,{parts:R.parts}),se&&r.a.createElement(v,{left:ee,top:oe})))},R=n(3),L=n.n(R),I=n(13),B=n.n(I),C=function(e){return r.a.createElement("span",{className:B.a.counter},e.number)},U=function(){var e=T().score;return r.a.createElement("div",{className:L.a.scoreboard},r.a.createElement("div",{className:L.a.header},"React Snake Game"),r.a.createElement("div",{className:L.a.counter},r.a.createElement(C,{number:e})))},G=n(4),F=n.n(G),V=function(e){return r.a.createElement("div",{className:F.a.startmenu},r.a.createElement("button",{className:F.a.startbutton,onClick:function(){return e.startGameCallback(!0)},type:"button"},"Start game"))},H=function(){var e=Object(o.useState)(!1),t=Object(s.a)(e,2),n=t[0],a=t[1];return r.a.createElement(N,null,r.a.createElement("div",{className:"main-container"},n?r.a.createElement(r.a.Fragment,null,r.a.createElement(D,null),r.a.createElement(U,null)):r.a.createElement(V,{startGameCallback:a})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[14,1,2]]]);
//# sourceMappingURL=main.c4a9b61b.chunk.js.map